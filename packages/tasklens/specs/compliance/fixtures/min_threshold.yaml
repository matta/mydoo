# yaml-language-server: $schema=../schemas/test_case.schema.json
name: Minimum Priority Threshold
description: Verify that tasks with priority <= 0.001 are filtered out of the sorted list.

initial_state:
  current_time: "2023-01-01T12:00:00+00:00"
  timezone_offset: 0
  tasks:
    - id: Parent
      desired_credits: 0.0
      title: Container
      children:
        - id: BigSibling
          title: Big Sibling
          importance: 1.0
        - id: LowPri
          title: Noise Task
          importance: 0.0001 # Share = 0.0001 / 1.0001 ~= 0.0001

steps:
  - name: Check Filter
    expected_order: ["BigSibling"] # LowPri filtered, Parent hidden by mask
    expected_props:
      - id: Parent
        is_visible: false
      - id: BigSibling
        is_visible: true
      - id: LowPri
        is_visible: true # Property is true
        score: 0.0001 # But filtered from order
