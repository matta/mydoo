{
  "feature": "Balancing",
  "description": "Tests the dynamic balancing of parent tasks ('Projects') based on their child completion rates and credit usage, ensuring neglected projects rise in priority.\n",
  "background": {
    "current_time": "2025-01-01T12:00:00Z",
    "tasks": [
      {
        "id": "ProjectAlpha",
        "title": "Parent A",
        "importance": 1,
        "desired_credits": 100,
        "children": [
          {
            "id": "AlphaTaskOne",
            "importance": 1
          },
          {
            "id": "AlphaTaskTwo",
            "importance": 1
          }
        ]
      },
      {
        "id": "ProjectBeta",
        "title": "Parent B",
        "importance": 1,
        "desired_credits": 100,
        "children": [
          {
            "id": "BetaTaskOne",
            "importance": 1
          },
          {
            "id": "BetaTaskTwo",
            "importance": 1
          }
        ]
      }
    ]
  },
  "scenarios": [
    {
      "name": "Legacy Scenario",
      "steps": [
        {
          "description": "1. Initial Tree Order",
          "then": {
            "expected_order": [
              "AlphaTaskOne",
              "AlphaTaskTwo",
              "BetaTaskOne",
              "BetaTaskTwo"
            ]
          }
        },
        {
          "when": [
            {
              "update_credits": {
                "ProjectAlpha": 50
              }
            },
            {
              "update_task": {
                "id": "AlphaTaskOne",
                "status": "Done",
                "is_acknowledged": true
              }
            }
          ],
          "description": "2. Finish A1 (A Utilized)",
          "then": {
            "expected_order": [
              "BetaTaskOne",
              "BetaTaskTwo",
              "AlphaTaskTwo"
            ]
          }
        },
        {
          "when": [
            {
              "update_credits": {
                "ProjectBeta": 50
              }
            },
            {
              "update_task": {
                "id": "BetaTaskOne",
                "status": "Done",
                "is_acknowledged": true
              }
            }
          ],
          "description": "3. Finish B1 (B Catches Up)",
          "then": {
            "expected_order": [
              "AlphaTaskTwo",
              "BetaTaskTwo"
            ]
          }
        }
      ]
    }
  ]
}
